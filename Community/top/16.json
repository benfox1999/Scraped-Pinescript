{"extra":{},"lastVersionMaj":"-1.0","scriptAccess":"open_no_auth","scriptName":"CM_Price-Action-Bars","source":"//Created By ChrisMoody on 1-20-2014\r\n//Credit Goes To Chris Capre from 2nd Skies Forex\r\n\r\nstudy(\"CM_Price-Action-Bars\", overlay=true)\r\n\r\npctP = input(66, minval=1, maxval=99, title=\"Percentage Input For PBars, What % The Wick Of Candle Has To Be\")\r\npblb = input(6, minval=1, maxval=100, title=\"PBars Look Back Period To Define The Trend of Highs and Lows\")\r\npctS = input(5, minval=1, maxval=99, title=\"Percentage Input For Shaved Bars, Percent of Range it Has To Close On The Lows or Highs\")\r\nspb = input(false, title=\"Show Pin Bars?\")\r\nssb = input(false, title=\"Show Shaved Bars?\")\r\nsib = input(false, title=\"Show Inside Bars?\")\r\nsob = input(false, title=\"Show Outside Bars?\")\r\nsgb = input(false, title=\"Check Box To Turn Bars Gray?\")\r\n\r\n//PBar Percentages\r\npctCp = pctP * .01\r\npctCPO = 1 - pctCp\r\n\r\n//Shaved Bars Percentages\r\npctCs = pctS * .01\r\npctSPO = pctCs\r\n\r\nrange = high - low\r\n\r\n///PinBars\r\npBarUp() => spb and open > high - (range * pctCPO) and close > high - (range * pctCPO) and low <= lowest(pblb) ? 1 : 0\r\npBarDn() => spb and open < high - (range *  pctCp) and close < high-(range * pctCp) and high >= highest(pblb) ? 1 : 0\r\n\r\n//Shaved Bars\r\nsBarUp() => ssb and (close >= (high - (range * pctCs)))\r\nsBarDown() => ssb and close <= (low + (range * pctCs))\r\n\r\n//Inside Bars\r\ninsideBar() => sib and high <= high[1] and low >= low[1] ? 1 : 0\r\noutsideBar() => sob and (high > high[1] and low < low[1]) ? 1 : 0\r\n\r\n//PinBars\r\nbarcolor(pBarUp() ? lime : na)\r\nbarcolor(pBarDn() ? red : na)\r\n//Shaved Bars\r\nbarcolor(sBarDown() ? fuchsia : na)\r\nbarcolor(sBarUp() ? aqua : na)\r\n//Inside and Outside Bars\r\nbarcolor(insideBar() ? yellow : na )\r\nbarcolor(outsideBar() ? orange : na )\r\n\r\nbarcolor(sgb and close ? gray : na)","version":"-1.0"}