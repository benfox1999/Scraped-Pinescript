{"extra":{},"lastVersionMaj":"-1.0","scriptAccess":"open_no_auth","scriptName":"VDUB_BINARY_PRO_3_V2","source":"study(title=\"VDUB_BINARY_PRO_3_V2\", shorttitle=\"VDUB_BINARY_PRO_3_V2\", overlay=true)\r\nsource = close\r\nlength = input(56, minval=1, title = \"WMA Length\")\r\natrlen = input(100, minval=1, title = \"ATR Length\")\r\nmult1 = 2\r\nmult2 = 3\r\nma = wma(source, length)\r\nrange =  tr\r\nrangema = wma(range, atrlen)\r\n\r\nup1 = ma + rangema * mult1\r\nup2 = ma + rangema * mult2\r\n\r\ndn1 = ma - rangema * mult1\r\ndn2 = ma - rangema * mult2\r\n\r\ncolor1 = white\r\ncolor2 = white\r\n\r\nu4 = plot(up1, color = color1)\r\nu8 = plot(up2, color = color2)\r\n\r\nd4 = plot(dn1, color = color1)\r\nd8 = plot(dn2, color = color2)\r\n\r\nfill(u8, u4, color=#30628E, transp=80)\r\nfill(d8, d4, color=#30628E, transp=80)\r\nfill(d4, u4, color=#128E89, transp=80)\r\n\r\n//Linear regression band\r\nsrc = close\r\n//Input\r\nnlookback = input (defval = 20, minval = 1, title = \"Number of Lookback\")\r\nscale = input(defval=1,  title=\"scale of ATR\")\r\nnATR = input(defval = 14, title=\"ATR Parameter\")\r\n\r\n//Center band\r\nperiods=input(21, minval=1, title=\"MA Period\")\r\npc = input(true, title=\"MA BAND\")\r\n\r\nhld = iff(close > sma(high,periods)[1], 1, iff(close<sma(low,periods)[1],-1, 0))\r\nhlv = valuewhen(hld != 0, hld, 1)\r\n\r\nhi = pc and hlv == -1 ? sma(high, periods) : na\r\nlo = pc and hlv == 1 ? sma(low,periods) : na\r\nplot(avg(sma(high,periods)+2.5*(sma(high,periods)-sma(low,periods)),sma(low,periods)-2.5*(sma(high,periods)-sma(low,periods))), color=red, style=line,linewidth=4)\r\nplot(pc and sma(high, periods) ? sma(high, periods):na ,title=\"Swing High Plot\", color=black,style=line, linewidth=1)\r\nplot(pc and sma(low,periods) ? sma(low,periods) : na ,title=\"Swing Low Plot\", color=black,style=line, linewidth=1)\r\n//fill(hlv,hld,color=#1c86ee,transp=80)\r\n//--------------------------------------------------------------------------------------------\r\n// Base line_VX1\r\nsource2 = close\r\nshort = sma(close, 3)\r\nlong = sma(close, 13)\r\nplot(short, color=red, linewidth=2)\r\nplot(long, color=navy, linewidth=4)\r\nplot(cross(long, short) ? long : na, style = circles, color=blue, linewidth = 9)\r\nOutputSignal = long >= short ? 1 : 0\r\nbgcolor(OutputSignal>0?red:gray, transp=100)\r\n//=======================================================\r\n//Vdub_Tetris_V2\r\nLRG_Channel_TF_mins_D_W_M = input(\"30\")\r\nRange2 = input(1)\r\n\r\nSELL = security(tickerid, LRG_Channel_TF_mins_D_W_M, highest(Range2))\r\nBUY = security(tickerid, LRG_Channel_TF_mins_D_W_M, lowest(Range2))\r\n\r\nHI = plot(SELL, color=SELL!=SELL[1]?na:red,linewidth=2 )\r\nLO = plot(BUY, color=BUY!=BUY[1]?na:green,linewidth=2 )\r\nfill(HI, LO, color=#E3CAF1, transp=100)\r\nHcon = high >= SELL\r\nLcon = low <= BUY\r\n\r\nplotshape(Hcon, style=shape.triangledown, color=maroon, location=location.abovebar)\r\nplotshape(Lcon, style=shape.triangleup, color=green, location=location.belowbar)\r\nrange2 = SELL-BUY\r\n//--------------------------------------------------\r\n\r\nSML_Channel_TF_mins_D_W_M = input('240')\r\nM_HIGH = security(tickerid, SML_Channel_TF_mins_D_W_M, high)\r\nM_LOW = security(tickerid, SML_Channel_TF_mins_D_W_M, low)\r\nplot(M_HIGH, color=M_HIGH != M_HIGH[1] ?na:fuchsia, style=line, linewidth=2)\r\nplot(M_LOW, color=M_LOW != M_LOW[1] ?na:fuchsia, style=line, linewidth=2)\r\n//--------------------------------------------------\r\nZingzag_length = input(7)\r\nhls = rma(hl2, Zingzag_length)\r\nisRising = hls >= hls[1]\r\n\r\nzigzag1 = isRising and not isRising[1] ? lowest(Zingzag_length) :  not isRising and isRising[1] ? highest(Zingzag_length) : na\r\nplot(zigzag1, color=black)\r\n\r\nZigzag2 = input(false)\r\nzigzag = Hcon ? high : Lcon ? low : na\r\nplot(not Zigzag2 ? na : zigzag, color=red, style=line, linewidth=3)\r\n\r\n//=====================================================================//\r\n\r\n","version":"-1.0"}