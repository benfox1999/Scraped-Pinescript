{"extra":{},"lastVersionMaj":"-1.0","scriptAccess":"open_no_auth","scriptName":"CM_Ultimate RSI MTF","source":"//Created By ChrisMoody on 8/15/2014\r\n///RSI with ability to change first RSI to a different Timeframe.\r\n//option to Plot 2nd RSI to show different Timeframes on same chart\r\n\r\nstudy(title=\"CM_Ultimate RSI MTF\", shorttitle=\"CM_Ult_RSI_MTF\", precision=0)\r\nsrc = close\r\nlen = input(14, minval=1, title=\"Length\")\r\nupLine = input(70, minval=50, maxval=90, title=\"Upper Line Value?\")\r\nlowLine = input(30, minval=10, maxval=50, title=\"Lower Line Value?\")\r\nsml = input(true, title=\"Show Mid Line?\")\r\nsbh = input(true, title=\"Show Back Ground Highlights When RSI is Above/Below High/Low Lines?\")\r\nsch = input(true, title=\"Show Back Ground Highlights When RSI Cross?\")\r\nsl = input(true, title=\"Show 'B' and 'S' Letters When RSI Crosses High/Low Line?\")\r\nuseCurrentRes = input(true, title=\"Use Current Chart Resolution?\")\r\nresCustom = input(title=\"Use Different Timeframe? Uncheck Box Above\", type=resolution, defval=\"60\")\r\nssRSI = input(false, title=\"Show 2nd RSI?\")\r\nresCustom2 = input(title=\"Use 2nd RSI? Check Box Above\", type=resolution, defval=\"D\")\r\nuseCurrentRes2 = input(false, title=\"Use 2nd RSI Plot On Samet Timeframe?\")\r\nlen2 = input(14, minval=1, title=\"2nd RSI Length\")\r\n\r\nres = useCurrentRes ? period : resCustom\r\nres2 = useCurrentRes2 ? period : resCustom2\r\n\r\nup = rma(max(change(src), 0), len)\r\ndown = rma(-min(change(src), 0), len)\r\nrsi = down == 0 ? 100 : up == 0 ? 0 : 100 - (100 / (1 + up / down))\r\noutRSI = security(tickerid, res, rsi)\r\n\r\nup2 = rma(max(change(src), 0), len2)\r\ndown2 = rma(-min(change(src), 0), len2)\r\nrsi2 = down2 == 0 ? 100 : up2 == 0 ? 0 : 100 - (100 / (1 + up2 / down2))\r\noutRSI2 = security(tickerid, res2, rsi2)\r\n\r\naboveLine = outRSI > upLine ? 1 : 0\r\nbelowLine = outRSI < lowLine ? 1 : 0\r\ncrossUp = outRSI[1] <  lowLine and outRSI > lowLine ? 1 : 0\r\ncrossDn = outRSI[1] >  upLine and outRSI < upLine ? 1 : 0\r\n\r\nbgcolor(sbh and aboveLine ? red : na, transp=70)\r\nbgcolor(sbh and belowLine ? green : na, transp=70)\r\nbgcolor(sch and crossUp ? lime : na, transp=40)\r\nbgcolor(sch and crossDn ? red : na, transp=40)\r\n\r\nplot(outRSI, title=\"RSI\", style=line, linewidth=3, color=aqua)\r\nplot(ssRSI and outRSI2 ? outRSI2 : na, title=\"2nd RSI - Different Time Frame?\", style=linebr, linewidth=4, color=orange)\r\np1 = plot(upLine, title= \"Upper Line\", style=solid, linewidth=3, color=red)\r\np2 = plot(lowLine, title= \"Lower Line\", style=solid, linewidth=3, color=lime)\r\nplot(sml and 50 ? 50 : na, title=\"Mid Line\", style=linebr, linewidth=2, color=gray)\r\nplotchar(sl and crossUp ? crossUp : na, title=\"Buy Signal\", char='B', location=location.bottom, color=lime, transp=0, offset=0)\r\nplotchar(sl and crossDn ? crossDn : na, title=\"Sell Signal\", char='S', location=location.top, color=red, transp=0, offset=0)\r\nfill(p1, p2, color=silver, transp=70)","version":"-1.0"}