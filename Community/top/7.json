{"created":"2021-01-28T07:39:45.095528Z","extra":{"kind":"study","sourceInputsCount":0},"lastVersionMaj":"2.0","scriptAccess":"open_no_auth","scriptName":"ADX and DI for v4","source":"// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/\r\n// Â© BeikabuOyaji\r\n\r\n//@version=4\r\n\r\n\r\nstudy(\"ADX and DI for v4\")\r\nlen = input(14)\r\nth = input(20)\r\n\r\nTrueRange = max(max(high-low, abs(high-nz(close[1]))), abs(low-nz(close[1])))\r\nDirectionalMovementPlus = high-nz(high[1]) > nz(low[1])-low ? max(high-nz(high[1]), 0): 0\r\nDirectionalMovementMinus = nz(low[1])-low > high-nz(high[1]) ? max(nz(low[1])-low, 0): 0\r\n\r\nSmoothedTrueRange = 0.0\r\nSmoothedTrueRange := nz(SmoothedTrueRange[1]) - (nz(SmoothedTrueRange[1])/len) + TrueRange\r\n\r\nSmoothedDirectionalMovementPlus = 0.0\r\nSmoothedDirectionalMovementPlus := nz(SmoothedDirectionalMovementPlus[1]) - (nz(SmoothedDirectionalMovementPlus[1])/len) + DirectionalMovementPlus\r\n\r\nSmoothedDirectionalMovementMinus = 0.0\r\nSmoothedDirectionalMovementMinus := nz(SmoothedDirectionalMovementMinus[1]) - (nz(SmoothedDirectionalMovementMinus[1])/len) + DirectionalMovementMinus\r\n\r\nDIPlus = SmoothedDirectionalMovementPlus / SmoothedTrueRange * 100\r\nDIMinus = SmoothedDirectionalMovementMinus / SmoothedTrueRange * 100\r\nDX = abs(DIPlus-DIMinus) / (DIPlus+DIMinus)*100\r\nADX = sma(DX, len)\r\n\r\nplot(DIPlus, color=color.green, title=\"DI+\")\r\nplot(DIMinus, color=color.red, title=\"DI-\")\r\nplot(ADX, color=color.navy, title=\"ADX\")\r\nhline(th, color=color.black)","updated":"2021-01-28T07:39:45.095528Z","version":"2.0"}