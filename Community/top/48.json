{"created":"2021-03-13T18:27:18.970797Z","extra":{"isMTFResolution":true,"kind":"study","sourceInputsCount":0},"lastVersionMaj":"3.0","scriptAccess":"open_no_auth","scriptName":"Turtle Trade Channels Indicator","source":"//@version=4\r\n//author: @kivancozbilgic\r\n\r\nstudy(title=\"Turtle Trade Channels Indicator\", shorttitle=\"TuTCI\", overlay=true, resolution=\"\")\r\nlength = input(20,\"Entry Length\", minval=1)\r\nlen2=input(10, \"Exit Length\", minval=1)\r\nshowsignals = input(title=\"Show Entry/Exit Signals ?\", type=input.bool, defval=true)\r\nhighlighting = input(title=\"Highlighter On/Off ?\", type=input.bool, defval=true)\r\n\r\n\r\nlower = lowest(length)\r\nupper = highest(length)\r\nu = plot(upper, \"Upper\", color=#0094FF)\r\nl = plot(lower, \"Lower\", color=#0094FF)\r\n\r\nup=highest(high,length)\r\ndown=lowest(low,length)\r\nsup=highest(high,len2)\r\nsdown=lowest(low,len2)\r\nK1=barssince(high>=up[1])<=barssince(low<=down[1]) ? down : up\r\nK2=iff(barssince(high>=up[1])<=barssince(low<=down[1]),sdown,sup)\r\nK3=iff(close>K1,down,na)\r\nK4=iff(close<K1,up,na)\r\nplot(K1, title=\"Trend Line\", color=color.red, linewidth=2)\r\ne=plot(K2, title=\"Exit Line\", color=color.blue, linewidth=1, style=6)\r\n\r\n\r\nbuySignal=high==upper[1] or crossover(high,upper[1])\r\nsellSignal = low==lower[1] or crossover(lower[1],low)\r\nbuyExit=low==sdown[1] or crossover(sdown[1],low)\r\nsellExit = high==sup[1] or crossover(high,sup[1])\r\n\r\nO1= barssince(buySignal)\r\nO2= barssince(sellSignal)\r\nO3= barssince(buyExit)\r\nO4= barssince(sellExit)\r\n\r\nE1= barssince(buySignal[1])\r\nE2= barssince(sellSignal[1])\r\nE3= barssince(buyExit[1])\r\nE4= barssince(sellExit[1])\r\n\r\nplotshape(buySignal and O3<O1[1] ? down : na, title=\"Long Entry\", location=location.absolute, style=shape.circle, size=size.tiny, color=color.green, transp=0)\r\nplotshape(buySignal and showsignals and O3<O1[1] ? down : na, title=\"Long\", text=\"Long Entry\", location=location.absolute, style=shape.labelup, size=size.tiny, color=color.green, textcolor=color.white, transp=0)\r\n\r\nplotshape(sellSignal and O4<O2[1] ? up : na, title=\"Short Entry\", location=location.absolute, style=shape.circle, size=size.tiny, color=color.red, transp=0)\r\nplotshape(sellSignal and showsignals and O4<O2[1]  ? up : na, title=\"Short\", text=\"Short Entry\", location=location.absolute, style=shape.labeldown, size=size.tiny, color=color.red, textcolor=color.white, transp=0)\r\n\r\nplotshape(buyExit and O1<O3[1] ? up : na, title=\"Long Exit\", location=location.absolute, style=shape.circle, size=size.tiny, color=color.blue, transp=0)\r\nplotshape(buyExit and showsignals and O1<O3[1] ? up : na, title=\"Long Exit\", text=\"Exit Long\", location=location.absolute, style=shape.labeldown, size=size.tiny, color=color.blue, textcolor=color.white, transp=0)\r\n\r\nplotshape(sellExit and O2<O4[1] ? down : na, title=\"Short Exit\", location=location.absolute, style=shape.circle, size=size.tiny, color=color.blue, transp=0)\r\nplotshape(sellExit and showsignals and O2<O4[1] ? down : na, title=\"Short\", text=\"Exit Short\", location=location.absolute, style=shape.labelup, size=size.tiny, color=color.blue, textcolor=color.white, transp=0)\r\n\r\ncolor1= highlighting and min(O1,O2,O3)==O1 ? color.green : na\r\ncolor2= highlighting and min(O1,O2,O4)==O2 ? color.red : na\r\nfill(u, e, color=color1, transp=88, title=\"Background\")\r\nfill(l, e, color=color2, transp=88, title=\"Background\")\r\n\r\n","updated":"2021-03-13T18:27:18.970797Z","version":"3.0"}